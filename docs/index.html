<!DOCTYPE html>
<html lang="en">
  <head>
    <title>InputBarAccessoryView  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="InputBarAccessoryView  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">InputBarAccessoryView Docs</a> (17% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">InputBarAccessoryView Reference</a>
        <img id="carat" src="img/carat.png" />
        InputBarAccessoryView  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/AttachmentCell.html">AttachmentCell</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/AttachmentManager.html">AttachmentManager</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/AttachmentsView.html">AttachmentsView</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/AutocompleteCell.html">AutocompleteCell</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/AutocompleteManager.html">AutocompleteManager</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/AutocompleteTableView.html">AutocompleteTableView</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ImageAttachmentCell.html">ImageAttachmentCell</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/InputBarAccessoryView.html">InputBarAccessoryView</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/InputBarAccessoryView/UIStackViewPosition.html">– UIStackViewPosition</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/InputBarButtonItem.html">InputBarButtonItem</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/InputBarButtonItem/Spacing.html">– Spacing</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/InputStackView.html">InputStackView</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/InputTextView.html">InputTextView</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/NSLayoutConstraintSet.html">NSLayoutConstraintSet</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SeparatorLine.html">SeparatorLine</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/NSMutableAttributedString.html">NSMutableAttributedString</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/AttachmentManagerDataSource.html">AttachmentManagerDataSource</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/AttachmentManagerDelegate.html">AttachmentManagerDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/AutocompleteManagerDataSource.html">AutocompleteManagerDataSource</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/AutocompleteManagerDelegate.html">AutocompleteManagerDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/InputBarAccessoryViewDelegate.html">InputBarAccessoryViewDelegate</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='inputbaraccessoryview' class='heading'>InputBarAccessoryView</h1>

<p><img src="./Assets/Banner.png"></p>
<h3 id='installation-via-cocoapods' class='heading'>Installation via CocoaPods</h3>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s1">'InputBarAccessoryView'</span>
</code></pre>
<h3 id='installation-via-carthage' class='heading'>Installation via Carthage</h3>
<pre class="highlight ruby"><code><span class="n">github</span> <span class="s2">"nathantannar4/InputBarAccessoryView"</span>
</code></pre>
<h3 id='usage' class='heading'>Usage</h3>

<p>Add your app to the list of apps using this library and make a pull request.</p>

<ul>
<li><a href="https://github.com/MessageKit/MessageKit">MessageKit</a> <em>(renamed to MessageInputBar)</em>
<p>
<img src="https://raw.githubusercontent.com/MessageKit/MessageKit/master/Assets/mklogo.png" title="MessageKit logo" height="50">
</p></li>
</ul>
<h3 id='requirements' class='heading'>Requirements</h3>

<p>iOS 9.0+
Swift 4
XCode 9.0+</p>
<h3 id='screenshots' class='heading'>Screenshots</h3>

<p><img src="./Assets/ScreenshotA.png" width="242" height="432"> <img src="./Assets/ScreenshotB.png" width="242" height="432"> <img src="./Assets/ScreenshotC.png" width="242" height="432"> <img src="./Assets/ScreenshotD.png" width="242" height="432"> <img src="./Assets/ScreenshotE.png" width="242" height="432"> <img src="./Assets/ScreenshotF.png" width="242" height="432"></p>
<h2 id='layout' class='heading'>Layout</h2>

<p>The layout of the <code>InputBarAccessoryView</code> is made of of 4  <code>UIStackView</code>&lsquo;s and an <code>InputTextView</code> (subclass of <code>UITextView</code>). The padding of the subviews can be easily adjusted by changing the <code>padding</code> and <code>textViewPadding</code> properties. The constraints will automatically be updated.</p>

<p><img src="./Assets/Layout.png"></p>

<p>It is important to note that each of the <code>UIStackView</code>&rsquo;s to the left and right of the <code>InputTextView</code> are anchored by a width constraint. This way the <code>InputTextView</code> will always fill the space inbetween in addition to providing methods that can easily be called to hide all buttons to the right or left of the <code>InputTextView</code> by setting the width constraint constant to 0. The bottom and top stack views are not height constraint and rely on their <code>intrinsicContentSize</code></p>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">setLeftStackViewWidthConstant</span><span class="p">(</span><span class="n">to</span> <span class="nv">newValue</span><span class="p">:</span> <span class="kt">CGFloat</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span>

<span class="kd">func</span> <span class="nf">setRightStackViewWidthConstant</span><span class="p">(</span><span class="n">to</span> <span class="nv">newValue</span><span class="p">:</span> <span class="kt">CGFloat</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span>
</code></pre>
<h2 id='autocompletemanager' class='heading'>AutocompleteManager</h2>

<p>The <code>AutocompleteManager</code> holds the logic and views required for the autocomplete functionality which makes it easy to subclass and modify if you wish to add additional logic! Then you can set the <code>MessageInputBar</code>&rsquo;s autocompleteManager property to your own</p>
<pre class="highlight swift"><code><span class="c1">/// If the autocomplete matches should be made by casting the strings to lowercase</span>
<span class="n">open</span> <span class="k">var</span> <span class="nv">isCaseSensitive</span> <span class="o">=</span> <span class="kc">false</span>

<span class="c1">/// When TRUE, autocompleted text will be highlighted with the UITextView's tintColor with an alpha component</span>
<span class="n">open</span> <span class="k">var</span> <span class="nv">highlightAutocompletes</span> <span class="o">=</span> <span class="kc">true</span>

<span class="c1">/// The max visible rows visible in the autocomplete table before the user has to scroll throught them</span>
<span class="n">open</span> <span class="k">var</span> <span class="nv">maxVisibleRows</span> <span class="o">=</span> <span class="mi">3</span>

<span class="c1">/// The prefices that the manager will recognize</span>
<span class="n">open</span> <span class="k">var</span> <span class="nv">autocompletePrefixes</span><span class="p">:</span> <span class="p">[</span><span class="kt">Character</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s">"@"</span><span class="p">,</span><span class="s">"#"</span><span class="p">]</span>
</code></pre>
<h3 id='autocompletemanagerdatasource' class='heading'>AutocompleteManagerDataSource</h3>

<p>By default an <code>AutocompleteCell</code> is returned to the <code>AutocompleteManager</code> thats title labels text is bolded to match the entered text.</p>
<pre class="highlight swift"><code><span class="c1">// The autocomplete options for a given prefix. Called once when a prefix is entered and then cached until the prefix is unregistered</span>
<span class="kd">func</span> <span class="nf">autocomplete</span><span class="p">(</span><span class="n">_</span> <span class="nv">autocompleteManager</span><span class="p">:</span> <span class="kt">AutocompleteManager</span><span class="p">,</span> <span class="n">autocompleteTextFor</span> <span class="nv">prefix</span><span class="p">:</span> <span class="kt">Character</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">String</span><span class="p">]</span>

<span class="c1">// Configure the cell to display in the `UITableView`</span>
<span class="kd">func</span> <span class="nf">autocomplete</span><span class="p">(</span><span class="n">_</span> <span class="nv">autocompleteManager</span><span class="p">:</span> <span class="kt">AutocompleteManager</span><span class="p">,</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span> <span class="n">cellForRowAt</span> <span class="nv">indexPath</span><span class="p">:</span> <span class="kt">IndexPath</span><span class="p">,</span> <span class="k">for</span> <span class="nv">arguments</span><span class="p">:</span> <span class="p">(</span><span class="nv">char</span><span class="p">:</span> <span class="kt">Character</span><span class="p">,</span> <span class="nv">filterText</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">autocompleteText</span><span class="p">:</span> <span class="kt">String</span><span class="p">))</span> <span class="o">-&gt;</span> <span class="kt">UITableViewCell</span>
</code></pre>
<h3 id='autocompletemanagerdelegate' class='heading'>AutocompleteManagerDelegate</h3>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">autocomplete</span><span class="p">(</span><span class="n">_</span> <span class="nv">autocompleteManager</span><span class="p">:</span> <span class="kt">AutocompleteManager</span><span class="p">,</span> <span class="n">didComplete</span> <span class="nv">prefix</span><span class="p">:</span> <span class="kt">Character</span><span class="p">,</span> <span class="n">with</span> <span class="nv">text</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span>
</code></pre>
<h2 id='inputbarbuttonitem' class='heading'>InputBarButtonItem</h2>

<p>It is recommended that you use the <code>InputBarButtonItem</code> for the <code>UIStackView</code>&rsquo;s. This is because all <code>UIStackView</code>&rsquo;s are intitially set with the following properties:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">view</span> <span class="o">=</span> <span class="kt">UIStackView</span><span class="p">()</span>
<span class="n">view</span><span class="o">.</span><span class="n">axis</span> <span class="o">=</span> <span class="o">.</span><span class="n">horizontal</span>
<span class="n">view</span><span class="o">.</span><span class="n">distribution</span> <span class="o">=</span> <span class="o">.</span><span class="n">fill</span>
<span class="n">view</span><span class="o">.</span><span class="n">alignment</span> <span class="o">=</span> <span class="o">.</span><span class="n">fill</span>
<span class="n">view</span><span class="o">.</span><span class="n">spacing</span> <span class="o">=</span> <span class="mi">15</span>
</code></pre>

<p>This will layout the arrangedViews based on their intrinsicContentSize and if there is extra space the views will be expanded based on their content hugging <code>UILayoutPriority</code>.</p>
<h3 id='size' class='heading'>Size</h3>

<p>Each <code>InputBarButtonItem</code>&rsquo;s <code>intrinsicContentSize</code> can be overridden by setting the <code>size</code> property. It is optional so when set to <code>nil</code> the <code>super.intrinsicContentSize</code> will be used. </p>
<h3 id='spacing' class='heading'>Spacing</h3>

<p>Spacing can be set using the <code>spacing</code> property. This will change the content hugging <code>UILayoutPriority</code> and add extra space to the <code>intrinsicContentSize</code> when set to <code>.fixed(CGFloat)</code>.</p>
<h3 id='hooks' class='heading'>Hooks</h3>

<p>Each <code>InputBarButtonItem</code> has properties that can hold actions that will be executed during various hooks such as the button being touched, the <code>UITextView</code>text changing and more! Thanks to these easy hooks with a few lines of code the items can be easily resized and animated similar to that of the Facebook messenger app.</p>
<pre class="highlight swift"><code><span class="c1">// MARK: - Hooks</span>

<span class="kd">public</span> <span class="kd">typealias</span> <span class="kt">InputBarButtonItemAction</span> <span class="o">=</span> <span class="p">((</span><span class="kt">InputBarButtonItem</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span>    

<span class="kd">private</span> <span class="k">var</span> <span class="nv">onTouchUpInsideAction</span><span class="p">:</span> <span class="kt">InputBarButtonItemAction</span><span class="p">?</span>
<span class="kd">private</span> <span class="k">var</span> <span class="nv">onKeyboardEditingBeginsAction</span><span class="p">:</span> <span class="kt">InputBarButtonItemAction</span><span class="p">?</span>
<span class="kd">private</span> <span class="k">var</span> <span class="nv">onKeyboardEditingEndsAction</span><span class="p">:</span> <span class="kt">InputBarButtonItemAction</span><span class="p">?</span>
<span class="kd">private</span> <span class="k">var</span> <span class="nv">onKeyboardSwipeGestureAction</span><span class="p">:</span> <span class="p">((</span><span class="kt">InputBarButtonItem</span><span class="p">,</span> <span class="kt">UISwipeGestureRecognizer</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)?</span>
<span class="kd">private</span> <span class="k">var</span> <span class="nv">onTextViewDidChangeAction</span><span class="p">:</span> <span class="p">((</span><span class="kt">InputBarButtonItem</span><span class="p">,</span> <span class="kt">InputTextView</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)?</span>
<span class="kd">private</span> <span class="k">var</span> <span class="nv">onSelectedAction</span><span class="p">:</span> <span class="kt">InputBarButtonItemAction</span><span class="p">?</span>
<span class="kd">private</span> <span class="k">var</span> <span class="nv">onDeselectedAction</span><span class="p">:</span> <span class="kt">InputBarButtonItemAction</span><span class="p">?</span>
<span class="kd">private</span> <span class="k">var</span> <span class="nv">onEnabledAction</span><span class="p">:</span> <span class="kt">InputBarButtonItemAction</span><span class="p">?</span>
<span class="kd">private</span> <span class="k">var</span> <span class="nv">onDisabledAction</span><span class="p">:</span> <span class="kt">InputBarButtonItemAction</span><span class="p">?</span>
</code></pre>
<h2 id='inputbaraccessoryviewdelegate' class='heading'>InputBarAccessoryViewDelegate</h2>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">inputBar</span><span class="p">(</span><span class="n">_</span> <span class="nv">inputBar</span><span class="p">:</span> <span class="kt">InputBarAccessoryView</span><span class="p">,</span> <span class="n">didPressSendButtonWith</span> <span class="nv">text</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span>

<span class="c1">// Useful for updating a UICollectionView or UITableView bottom inset    </span>
<span class="kd">func</span> <span class="nf">inputBar</span><span class="p">(</span><span class="n">_</span> <span class="nv">inputBar</span><span class="p">:</span> <span class="kt">InputBarAccessoryView</span><span class="p">,</span> <span class="n">didChangeIntrinsicContentTo</span> <span class="nv">size</span><span class="p">:</span> <span class="kt">CGSize</span><span class="p">)</span>

<span class="kd">func</span> <span class="nf">inputBar</span><span class="p">(</span><span class="n">_</span> <span class="nv">inputBar</span><span class="p">:</span> <span class="kt">InputBarAccessoryView</span><span class="p">,</span> <span class="n">textViewTextDidChangeTo</span> <span class="nv">text</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span>

<span class="kd">func</span> <span class="nf">inputBar</span><span class="p">(</span><span class="n">_</span> <span class="nv">inputBar</span><span class="p">:</span> <span class="kt">InputBarAccessoryView</span><span class="p">,</span> <span class="n">didSwipeTextViewWith</span> <span class="nv">gesture</span><span class="p">:</span> <span class="kt">UISwipeGestureRecognizer</span><span class="p">)</span>
</code></pre>

<p>Have a suggestion? Make a PR!</p>
<h2 id='changelog' class='heading'>Changelog</h2>

<ul>
<li>1.1.2
    - Fixed issue where adjusting the <code>InputTextView</code>&rsquo;s placeholder text alignment didn&rsquo;t work
    - Fixed iPhone X support where the home indicator overlapped the <code>InputTextView</code></li>
<li>1.1.1
    - AutocompleteManager bug fixes and customization improvements</li>
<li>1.1.0
    - AttactchmentManager (Beta)</li>
<li>1.0.0

<ul>
<li>A more refined AutocompleteManager</li>
<li>Auto-layout bug fixes</li>
</ul></li>
</ul>

<p><em>pre-release versions not documented</em></p>

<p><strong>Find a bug? Open an issue!</strong></p>
<h2 id='author' class='heading'>Author</h2>

<p>
    <img src="https://github.com/nathantannar4/NTComponents/raw/master/NTComponents/Assets/Nathan.png" width="100" height="100">
</p>

<p><strong>Nathan Tannar</strong> - <a href="https://nathantannar.me">https://nathantannar.me</a></p>
<h2 id='license' class='heading'>License</h2>

<p>Distributed under the MIT license. See <code>LICENSE</code> for more information.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2017 <a class="link" href="https://github.com/nathantannar4/InputBarAccessoryView" target="_blank" rel="external">Nathan Tannar</a>. All rights reserved. (Last updated: 2017-10-18)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.8.2</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
